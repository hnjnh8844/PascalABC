Пояснення кожного рядка:

    program AverageMainDiagonal; — оголошує програму.
    uses crt; — підключає модуль для роботи з екраном.
    var — починає блок оголошення змінних.
        i, n: integer; — змінні для індексів та розміру матриці.
        sum: real; — змінна для зберігання суми елементів головної діагоналі.
        matrix: array of array of integer; — оголошує динамічний масив для зберігання матриці.
    clrscr; — очищає екран перед виведенням результату.
    write('Введіть розмір матриці n: '); — запитує користувача про розмір матриці.
    readln(n); — зчитує розмір матриці.
    setlength(matrix, n, n); — виділяє пам'ять для матриці розміру n x n.
    writeln('Введіть елементи матриці:'); — виводить підказку для введення елементів матриці.
    Цикл for i := 0 to n-1 do і вкладений цикл for j := 0 to n-1 do — проходять по всіх елементах матриці та запитують значення для кожного елемента.
    write('matrix[', i+1, ',', j+1, ']: '); — виводить запит для введення елемента на позиції (i+1, j+1), де індекси мають вигляд 1, 2, 3, ... (починаються з 1).
    read(matrix[i][j]); — зчитує елемент матриці на позиції (i, j).
    sum := 0; — ініціалізує змінну для суми елементів головної діагоналі.
    Цикл for i := 0 to n-1 do — проходить по головній діагоналі, додаючи елементи до змінної sum.
    sum := sum + matrix[i][i]; — додає елемент головної діагоналі (де індекси однакові) до суми.
    writeln('Середнє арифметичне головної діагоналі: ', sum / n:0:2); — виводить середнє арифметичне елементів головної діагоналі з точністю до двох знаків після коми.
    readln; — чекає на натискання клавіші перед закриттям програми.
